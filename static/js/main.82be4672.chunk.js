(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{41:function(e,t,n){e.exports=n.p+"static/media/pause.5b32ce7e.svg"},45:function(e,t,n){e.exports=n(92)},50:function(e,t,n){},67:function(e,t,n){e.exports=n.p+"static/media/backward.b5d832b3.svg"},68:function(e,t,n){e.exports=n.p+"static/media/forward.06d1a095.svg"},69:function(e,t,n){e.exports=n.p+"static/media/back.140bf532.svg"},70:function(e,t,n){e.exports=n.p+"static/media/options.13b598f8.svg"},73:function(e,t,n){e.exports=n.p+"static/media/play.c84559fa.svg"},79:function(e,t,n){e.exports=n.p+"static/media/settings.65817086.svg"},80:function(e,t,n){e.exports=n.p+"static/media/spinner.5fcb6cd0.svg"},89:function(e,t,n){e.exports=n.p+"static/media/replay.c1ff9b44.svg"},91:function(e,t){Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))},92:function(e,t,n){"use strict";n.r(t);var o=n(0),c=n.n(o),s=n(7),a=n.n(s),i=(n(50),n(13)),r=n(14),l=n(17),u=n(15),d=n(18),m=n(12),h=n.n(m),f=(n(53),n(57),n(39)),p=n.n(f),v=(o.Component,n(111)),S=n(5),b=n(66),w=Object(S.a)({switchBase:{color:b.a[300],"&$checked":{color:b.a[400]},"&$checked + $track":{backgroundColor:b.a[400]}},checked:{},track:{}})(v.a);function g(e){return c.a.createElement("div",{style:{margin:"auto"}},c.a.createElement(w,{checked:e.SwitchView,onChange:e.handleChange,value:"checked",inputProps:{"aria-label":"primary checkbox"}}))}var y=n(41),k=n.n(y),E=n(67),M=n.n(E),T=n(68),C=n.n(T),F=n(69),x=n.n(F),P=(n(79),n(70)),D=n.n(P),I=(n(80),n(109)),N=n(72),B=n.n(N),O=n(71),j=n.n(O),_=(n(81),n(89),function(){return c.a.createElement("div",{className:"break"},c.a.createElement("hr",{className:"line-break"}))}),V=function(e){var t=Math.floor(e/1e3%60),n=Math.floor(e/6e4%60),o=Math.floor(e/36e5%24);return(o=0==o?"":(o<10?"0"+o:o)+":")+(n=n<10?"0"+n:n)+":"+(t=t<10?"0"+t:t)},A=Object(I.a)(function(e){return{userIcon:{fontSize:"2.1em"}}});var L=function(e){function t(){document.getElementById("mySidenav").style.width="0"}A();var n=e.sections,s=e.currentSectionIndex,a=e.onSubsectionClick,i=e.sectionChange,r=e.selectedSectionIndex,l=e.currentSubsectionIndex;return c.a.createElement(o.Fragment,null,c.a.createElement("div",{id:"mySidenav",className:"sidenav"},c.a.createElement("a",{href:"javascript:void(0)",className:"closebtn",onClick:t},"\xd7"),c.a.createElement("div",{className:"section-container"},c.a.createElement("div",{className:"section-header"},s>0?c.a.createElement(j.a,{onClick:function(){return i(s,-1)},style:{margin:"auto"}}):c.a.createElement("div",null),c.a.createElement("h2",null," ",n[s].sectionDesc),s<n.length-1?c.a.createElement(B.a,{onClick:function(){return i(s,1)},style:{margin:"auto"}}):c.a.createElement("div",null)),n[s].section.map(function(e,n){return c.a.createElement(o.Fragment,null,c.a.createElement("div",{onClick:function(){a(e.offSetMicroSeconds,n,s),t()},className:l==n&&r==s?"sub-section active":"sub-section"},c.a.createElement("p",null,V(1e3*e.offSetMicroSeconds)),c.a.createElement("p",null,e.subSecDesc)),c.a.createElement(_,null))}))))},z=n(73),R=n.n(z),U=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).goFull=function(){n.state.isFull?n.setState({isFull:!1}):n.setState({isFull:!0})},n.seek=function(e){var t=n.refs,o=t.video,c=t.videoBack,s=t.progressBar,a=e.offsetX/s.offsetWidth;o.currentTime=a*o.duration,c.currentTime=a*o.duration,e.target.value=Math.floor(a/100),e.target.innerHTML=s.value+"% played"},n.seekToTime=function(e){var t=n.refs,o=t.video,c=t.videoBack,s=n.state.isPlaying;o.currentTime=e,c.currentTime=e,s&&(o.play(),c.play())},n.playPauseVideo=function(){var e=n.refs,t=e.video,o=e.videoBack;e.switchedView,e.btnPlayPause;t.paused||t.ended?(t.play(),o.play(),n.setState({isPlaying:!0})):(t.pause(),o.pause(),n.setState({isPlaying:!1}))},n.stopVideo=function(){var e=n.refs.video;e.pause(),e.currentTime&&(e.currentTime=0),n.setState({isPlaying:!1})},n.muteVolume=function(){var e=n.refs,t=e.video;e.btnMute;t.muted?t.muted=!1:t.muted=!0},n.replayVideo=function(){var e=n.refs.video;n.resetPlayer(),e.paused||e.play()},n.updateProgressBar=function(){var e=n.refs,t=e.video,o=e.progressBar;t&&n.setState({currentMillisecond:1e3*t.currentTime,totalMilliseconds:t.duration?1e3*t.duration:n.state.totalMilliseconds});var c=0;t&&t.duration>0&&(c=Math.floor(100/t.duration*t.currentTime)),o&&(o.value=c)},n.changeButtonType=function(e,t){e.src=t},n.resetPlayer=function(){var e=n.refs,t=e.progressBar,o=e.video;e.btnPlayPause;t.value=0,o.currentTime=0},n.forward=function(){var e=n.refs,t=(e.progressBar,e.video),o=e.videoBack,c=n.state.isPlaying;t.currentTime=t.currentTime+15,o.currentTime=o.currentTime+15,c&&(t.play(),o.play())},n.backward=function(){var e=n.refs,t=(e.progressBar,e.video),o=e.videoBack,c=n.state.isPlaying;t.currentTime=t.currentTime-15,o.currentTime=o.currentTime-15,c&&(t.play(),o.play())},n.exitFullScreen=function(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},n.lockOrientation=function(){window.screen.orientation&&window.screen.orientation.lock("landscape-primary").then(function(){console.log("in landspace mode")}).catch(function(e){alert(e)})},n.toggleFullScreen=function(){var e=n.refs.player;e.requestFullscreen?document.fullScreenElement?(document.cancelFullScreen(),window.screen.orientation.unlock()):(e.requestFullscreen(),n.lockOrientation()):e.msRequestFullscreen?document.msFullscreenElement?(document.msExitFullscreen(),window.screen.orientation.unlock()):(e.msRequestFullscreen(),n.lockOrientation()):e.mozRequestFullScreen?document.mozFullScreenElement?(document.mozCancelFullScreen(),window.screen.orientation.unlock()):(e.mozRequestFullScreen(),n.lockOrientation()):e.webkitRequestFullscreen?document.webkitFullscreenElement?(document.webkitCancelFullScreen(),window.screen.orientation.unlock()):(e.webkitRequestFullscreen(),n.lockOrientation()):alert("Fullscreen is not supported in your browser")},n.handleMouseEnter=function(){n.setState({showVolume:!0})},n.handleMouseLeave=function(){n.setState({showVolume:!1})},n.hideControls=function(e){n.setState({showControls:!1})},n.openNav=function(){document.getElementById("mySidenav").style.width="45%"},n.sectionChange=function(e,t){n.setState({currentSectionIndex:e+t})},n.onSubsectionChange=function(e,t,o){n.seekToTime(e),n.setState({selectedSectionIndex:o,currentSubsectionIndex:t})},n.state={playerId:Date.now(),isFull:!1,showVolume:!1,showControls:!1,switchedView:!1,isPlaying:!1,currentMillisecond:0,totalMilliseconds:1e3,currentSectionIndex:0,currentSubsectionIndex:0,selectedSectionIndex:0,timeout:null},n.hls=null,n.video=c.a.createRef(),n}return Object(d.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.refs,t=e.video,n=(e.videoBack,e.btnPlayPause,e.btnMute,e.btnFullScreen,e.progressBar),o=(e.volumeBar,this);if(window.screen.orientation&&window.screen.orientation.addEventListener("change",function(e){"landscape-primary"!=window.screen.orientation.type&&o.state.isFull&&(window.screen.orientation.unlock(),o.goFull())}),t){t.addEventListener("timeupdate",this.updateProgressBar,!1);t.addEventListener("play",function(){},!1),t.addEventListener("pause",function(){},!1),t.addEventListener("volumechange",function(e){},!1),t.addEventListener("ended",function(){this.pause()},!1)}n&&n.addEventListener("click",this.seek),this._initPlayer(!1)}},{key:"componentWillUnmount",value:function(){}},{key:"_initPlayer",value:function(e,t){this.hls&&(this.hls.destroy(),this.hls2.destroy());var n=this.props,o=n.frontUrl,c=(n.autoplay,n.hlsConfig),s=n.backUrl,a=this.refs,i=a.video,r=a.videoBack,l=this.state.isPlaying,u=new h.a(c),d=new h.a(c);u.loadSource(o),u.attachMedia(i),d.loadSource(s),d.attachMedia(r),u.on(h.a.Events.MEDIA_ATTACHED,function(){u.on(h.a.Events.MANIFEST_PARSED,function(){l&&i.play()})}),d.on(h.a.Events.MEDIA_ATTACHED,function(){d.on(h.a.Events.MANIFEST_PARSED,function(){l&&r.play()})}),this.hls=u,this.hls2=d,i.addEventListener("timeupdate",this.updateProgressBar,!1),t&&t()}},{key:"render",value:function(){var e=this,t=this.state,n=t.playerId,o=t.isFull,s=t.isPlaying,a=t.timeout,i=t.selectedSectionIndex,r=t.currentMillisecond,l=t.currentSubsectionIndex,u=t.totalMilliseconds,d=t.currentSectionIndex,m=(t.showVolume,t.showControls),h=t.switchedView,f=this.props,p=(f.controls,f.width,f.poster),v=f.videoProps,S=f.sections,b=m?"player-controls show":"player-controls",w=m?"playPause":"playPauseShow",y=m?"top-controls":"top-controls-hide",E=o?"player-area-full":"player-area",T=m?"player-container-controls":"player-container",F=s?k.a:R.a;return S?c.a.createElement("section",null,!o&&c.a.createElement("p",{className:"fullscreen",title:"toggle full screen",accessKey:"T",onClick:function(){e.toggleFullScreen(),e.goFull()}},"Tap me to watch"),c.a.createElement("div",{key:n,className:E},c.a.createElement("div",{ref:"player",className:T},c.a.createElement("video",Object.assign({ref:"video",className:"hls-player",id:"react-hls-1",width:"100%",style:{height:"100%",background:"black",objectFit:"cover",display:h?"none":"block"},muted:!!h,poster:p,preload:"metadata",onMouseMove:function(t){clearTimeout(a),a=setTimeout(e.hideControls,6500,t),e.state.showControls||e.setState({showControls:!0})}},v)),c.a.createElement("video",Object.assign({ref:"videoBack",className:"hls-player",id:"react-hls-2",width:"100%",style:{height:"100%",background:"black",objectFit:"cover",display:h?"block":"none"},muted:!h,poster:p,preload:"metadata",onMouseMove:function(t){clearTimeout(a),a=setTimeout(e.hideControls,6500,t),e.state.showControls||e.setState({showControls:!0})}},v)),c.a.createElement("div",{className:w},c.a.createElement("img",{src:M.a,height:"50px",width:"50px",onClick:this.backward}),c.a.createElement("img",{ref:"btnPlayPause",src:F,height:"50px",width:"50px",onClick:this.playPauseVideo}),c.a.createElement("img",{src:C.a,height:"50px",width:"50px",onClick:this.forward})),c.a.createElement("div",{id:"controls",className:b,onFocus:function(t){clearTimeout(a),a=setTimeout(e.hideControls,6500,t),e.setState({showControls:!0})}},c.a.createElement("button",{className:"play",title:"play",accessKey:"P",onClick:this.playPauseVideo},V(r)," "),c.a.createElement("progress",{ref:"progressBar",min:"0",max:"100",value:"0"},"0% played"),c.a.createElement("button",{className:"mute",title:"mute",onClick:this.forward},V(u)),c.a.createElement(g,{switchedView:h,handleChange:function(t){e.refs.video;e.setState({switchedView:t.target.checked})}})),c.a.createElement("div",{className:y},c.a.createElement("img",{src:x.a,height:"30px",width:"30px",onClick:function(){e.toggleFullScreen(),e.goFull();var t=e.refs,n=t.video,o=t.videoBack;n.pause(),o.pause(),e.setState({isPlaying:!1})}}),c.a.createElement("img",null),c.a.createElement(L,{onFocus:function(t){clearTimeout(a),a=setTimeout(e.hideControls,6500,t),e.setState({showControls:!0})},onSubsectionClick:this.onSubsectionChange,currentSectionIndex:d,currentSubsectionIndex:l,selectedSectionIndex:i,sections:S,sectionChange:this.sectionChange}),c.a.createElement("img",{src:D.a,height:"30px",width:"30px",onClick:this.openNav})),c.a.createElement("div",{className:"right-control",onDoubleClick:this.forward,onMouseMove:function(t){clearTimeout(a),a=setTimeout(e.hideControls,6500,t),e.state.showControls||e.setState({showControls:!0})}}),c.a.createElement("div",{className:"left-control",onDoubleClick:this.backward,onMouseMove:function(t){clearTimeout(a),a=setTimeout(e.hideControls,6500,t),e.state.showControls||e.setState({showControls:!0})}})))):c.a.createElement("div",null)}}]),t}(c.a.Component);U.defaultProps={autoplay:!1,hlsConfig:{},controls:!0,width:500,height:375};var q=U,H=function(e){function t(e){var n;Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={video:{section:{}}};return fetch("https://7mfhkvwjii.execute-api.us-east-1.amazonaws.com/dev/video/1",{mode:"cors"}).then(function(e){return e.json()}).then(function(e){console.log(e)}),n}return Object(d.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){this.setState({video:{id:1,song_name:"DANCE OFF",instructor_id:5,video_code:"NULL",url:"https://videos.theverbstudio.com/Classes/Full+class/Velu+Full+Class",front_url:"https://theverbmedia-output.s3.amazonaws.com/test/kartiktest.m3u8",back_url:"https://theverbmedia-output.s3.amazonaws.com/test/kartikinvertedtest.m3u8",level:"INTERMEDIATE",style:"HIP-HOP",length:62,video_type:"STUDIO",youtube_url:"https://www.youtube.com/watch?v=Hr6NM9k6hLg",thumbnail_url:"https://d1c2wrc0o6t4ti.cloudfront.net/Classes/Mobile+UI/Thumbnails/Velu+Thumbnail.jpg",gif_url:"https://d1c2wrc0o6t4ti.cloudfront.net/Classes/Mobile+UI/Thumbnails/Velu+Thumbnail.jpg",is_active:1,section:{sections:[{section:[{subSecDesc:"Moves",offSetMicroSeconds:"80"},{subSecDesc:"Slow Tempo",offSetMicroSeconds:"563"},{subSecDesc:"Medium Tempo ",offSetMicroSeconds:"614"},{subSecDesc:"Actual Tempo",offSetMicroSeconds:"789"},{subSecDesc:"Watch",offSetMicroSeconds:"844"},{subSecDesc:"Music",offSetMicroSeconds:"876"}],sectionDesc:"Section 1"},{section:[{subSecDesc:"Moves",offSetMicroSeconds:"906"},{subSecDesc:"Slow Tempo",offSetMicroSeconds:"1879"},{subSecDesc:"Medium Tempo ",offSetMicroSeconds:"1970"},{subSecDesc:"Actual Tempo",offSetMicroSeconds:"2050"},{subSecDesc:"From The Top",offSetMicroSeconds:"2082"},{subSecDesc:"Watch",offSetMicroSeconds:"2157"},{subSecDesc:"Music",offSetMicroSeconds:"2210"}],sectionDesc:"Section 2"},{section:[{subSecDesc:"Moves",offSetMicroSeconds:"2265"},{subSecDesc:"Slow Tempo",offSetMicroSeconds:"3149"},{subSecDesc:"Medium Tempo ",offSetMicroSeconds:"3215"},{subSecDesc:"Actual Tempo",offSetMicroSeconds:"3338"},{subSecDesc:"From The Top",offSetMicroSeconds:"3375"},{subSecDesc:"Watch",offSetMicroSeconds:"3471"},{subSecDesc:"Music",offSetMicroSeconds:"3567"}],sectionDesc:"Section 3"}]},release_date:"2019-12-06T06:52:41.000Z",createdAt:"2019-12-06T01:22:41.000Z",updatedAt:"2019-12-06T01:22:41.000Z"}})}},{key:"render",value:function(){var e=this.state.video;return c.a.createElement(q,{hlsConfig:{startFragPrefetch:!0,autoStartLoad:!0},poster:e.thumbnail_url,sections:e.section.sections,frontUrl:e.front_url,backUrl:e.back_url})}}]),t}(o.Component);n(91);a.a.render(c.a.createElement(H,null),document.getElementById("root"))}},[[45,2,1]]]);
//# sourceMappingURL=main.82be4672.chunk.js.map